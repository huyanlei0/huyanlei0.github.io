<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>资料展示页面</title>
    <style>
        /* 全局样式重置 */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Microsoft YaHei", sans-serif;
        }

        body {
            background-color: #f5f5f5;
            padding: 20px;
        }

        /* 页面标题 */
        .page-title {
            text-align: center;
            margin-bottom: 40px;
            color: #333;
            font-size: 28px;
            font-weight: 600;
        }

        /* 资料卡片容器 */
        .materials-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
            gap: 30px;
            max-width: 1400px;
            margin: 0 auto;
        }

        /* 单套资料卡片样式 */
        .material-card {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            transition: transform 0.3s ease;
        }

        .material-card:hover {
            transform: translateY(-5px);
        }

        /* 图片展示区域 */
        .image-slider {
            position: relative;
            height: 220px;
            overflow: hidden;
            /* 禁止触摸时的默认滚动，避免冲突 */
            touch-action: pan-y;
        }

        .slider-images {
            display: flex;
            transition: transform 0.5s ease;
            height: 100%;
        }

        .slider-image {
            min-width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* 滑动按钮 */
        .slider-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.8);
            border: none;
            cursor: pointer;
            font-size: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.3s ease;
            z-index: 10;
        }

        .slider-btn:hover {
            background-color: white;
        }

        .prev-btn {
            left: 10px;
        }

        .next-btn {
            right: 10px;
        }

        /* 图片索引指示器 */
        .image-indicators {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 8px;
        }

        .indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.6);
            cursor: pointer;
            transition: background-color 0.3s ease, width 0.3s ease;
        }

        .indicator.active {
            background-color: white;
            width: 20px;
            border-radius: 4px;
        }

        /* 资料信息区域 */
        .material-info {
            padding: 20px;
        }

        .material-name {
            font-size: 20px;
            font-weight: 600;
            color: #222;
            margin-bottom: 10px;
            border-bottom: 2px solid #eee;
            padding-bottom: 8px;
        }

        .material-desc, .material-features {
            color: #666;
            line-height: 1.6;
            margin-bottom: 12px;
        }

        .material-features {
            font-weight: 500;
            color: #444;
        }

        /* 响应式适配 */
        @media (max-width: 768px) {
            .materials-container {
                grid-template-columns: 1fr;
            }
            
            .image-slider {
                height: 180px;
            }
        }
    </style>
</head>
<body>
    <h1 class="page-title">资料展示中心</h1>
    
    <div class="materials-container" id="materialsContainer">
        <!-- 资料卡片会通过JS动态生成 -->
    </div>

    <script>
        // 模拟10套资料数据（已适配本地图片路径）
        const materialsData = [
            {
                name: "资料1：产品使用手册",
                desc: "详细介绍产品的安装、配置和基础使用方法，适合初次接触产品的用户。",
                features: "功能：包含图文教程、常见问题解答、操作视频指引",
                images: [
                    "m1-1.jpg",
                    "./m1-2.jpg",
                    "./m1-3.jpg"
                ]
            },
            {
                name: "资料2：技术规格文档",
                desc: "完整的产品技术参数和规格说明，包含硬件配置、软件要求等详细信息。",
                features: "功能：技术参数查询、兼容性检测、性能指标对比",
                images: [
                    "./images/m2-1.jpg",
                    "./images/m2-2.jpg"
                ]
            },
            {
                name: "资料3：进阶使用指南",
                desc: "针对有一定基础的用户，讲解产品的高级功能和个性化配置方法。",
                features: "功能：高级功能演示、场景化应用案例、效率提升技巧",
                images: [
                    "./images/m3-1.jpg",
                    "./images/m3-2.jpg",
                    "./images/m3-3.jpg",
                    "./images/m3-4.jpg"
                ]
            },
            {
                name: "资料4：故障排查手册",
                desc: "常见故障现象、原因分析和解决方案，帮助用户快速定位并解决问题。",
                features: "功能：故障代码查询、排查流程指引、售后支持渠道",
                images: [
                    "./images/m4-1.jpg",
                    "./images/m4-2.jpg"
                ]
            },
            {
                name: "资料5：行业应用案例",
                desc: "产品在不同行业的实际应用场景和效果展示，提供参考和借鉴。",
                features: "功能：案例详情查看、行业适配建议、效果数据对比",
                images: [
                    "./images/m5-1.jpg",
                    "./images/m5-2.jpg",
                    "./images/m5-3.jpg"
                ]
            },
            {
                name: "资料6：更新日志",
                desc: "记录产品各版本的功能更新、问题修复和优化内容。",
                features: "功能：版本对比、更新内容查询、历史版本下载",
                images: [
                    "./images/m6-1.jpg"
                ]
            },
            {
                name: "资料7：用户反馈汇总",
                desc: "收集整理用户使用过程中的反馈意见和改进建议。",
                features: "功能：反馈分类查看、改进进度跟踪、用户满意度统计",
                images: [
                    "./images/m7-1.jpg",
                    "./images/m7-2.jpg"
                ]
            },
            {
                name: "资料8：培训课件",
                desc: "用于内部培训和外部用户培训的标准化课件内容。",
                features: "功能：课件在线学习、知识点测验、培训进度管理",
                images: [
                    "./images/m8-1.jpg",
                    "./images/m8-2.jpg",
                    "./images/m8-3.jpg"
                ]
            },
            {
                name: "资料9：竞品分析报告",
                desc: "对比分析市场上同类产品的优劣势，明确产品定位和竞争策略。",
                features: "功能：竞品参数对比、市场份额分析、差异化优势展示",
                images: [
                    "./images/m9-1.jpg",
                    "./images/m9-2.jpg"
                ]
            },
            {
                name: "资料10：市场推广方案",
                desc: "产品的市场定位、推广策略和营销活动规划。",
                features: "功能：推广渠道分析、活动效果预测、预算分配管理",
                images: [
                    "./images/m10-1.jpg",
                    "./images/m10-2.jpg",
                    "./images/m10-3.jpg"
                ]
            }
        ];

        // 获取容器元素
        const materialsContainer = document.getElementById('materialsContainer');

        // 生成资料卡片
        function renderMaterials() {
            materialsData.forEach((material, index) => {
                // 创建卡片元素
                const card = document.createElement('div');
                card.className = 'material-card';
                card.dataset.index = index;

                // 构建卡片内部HTML
                card.innerHTML = `
                    <!-- 图片滑动区域 -->
                    <div class="image-slider">
                        <div class="slider-images">
                            ${material.images.map(img => `<img src="${img}" alt="${material.name}" class="slider-image">`).join('')}
                        </div>
                        <!-- 滑动按钮 -->
                        <button class="slider-btn prev-btn">←</button>
                        <button class="slider-btn next-btn">→</button>
                        <!-- 图片索引指示器 -->
                        <div class="image-indicators">
                            ${material.images.map((_, i) => `<span class="indicator ${i === 0 ? 'active' : ''}" data-img-index="${i}"></span>`).join('')}
                        </div>
                    </div>
                    <!-- 资料信息区域 -->
                    <div class="material-info">
                        <h3 class="material-name">${material.name}</h3>
                        <p class="material-desc"><strong>内容说明：</strong>${material.desc}</p>
                        <p class="material-features"><strong>功能介绍：</strong>${material.features}</p>
                    </div>
                `;

                // 将卡片添加到容器
                materialsContainer.appendChild(card);

                // 为当前卡片绑定滑动事件
                bindSliderEvents(card, material.images.length);
            });
        }

        // 绑定图片滑动事件（新增触摸滑动逻辑）
        function bindSliderEvents(card, imageCount) {
            const sliderImages = card.querySelector('.slider-images');
            const prevBtn = card.querySelector('.prev-btn');
            const nextBtn = card.querySelector('.next-btn');
            const indicators = card.querySelectorAll('.indicator');
            
            let currentIndex = 0;
            // 触摸滑动相关变量
            let startX = 0;
            let moveX = 0;
            // 最小滑动距离（避免误触）
            const minSwipeDistance = 50;

            // 更新图片显示和指示器状态
            function updateSlider() {
                sliderImages.style.transform = `translateX(-${currentIndex * 100}%)`;
                indicators.forEach((indicator, index) => {
                    indicator.classList.toggle('active', index === currentIndex);
                });
            }

            // 上一张
            prevBtn.addEventListener('click', () => {
                currentIndex = (currentIndex - 1 + imageCount) % imageCount;
                updateSlider();
            });

            // 下一张
            nextBtn.addEventListener('click', () => {
                currentIndex = (currentIndex + 1) % imageCount;
                updateSlider();
            });

            // 点击指示器切换
            indicators.forEach((indicator, index) => {
                indicator.addEventListener('click', () => {
                    currentIndex = index;
                    updateSlider();
                });
            });

            // ========== 新增触摸滑动逻辑 ==========
            // 触摸开始
            sliderImages.addEventListener('touchstart', (e) => {
                // 记录触摸起始位置
                startX = e.touches[0].clientX;
            });

            // 触摸移动
            sliderImages.addEventListener('touchmove', (e) => {
                // 记录移动后的位置
                moveX = e.touches[0].clientX - startX;
            });

            // 触摸结束
            sliderImages.addEventListener('touchend', () => {
                // 滑动距离大于阈值才触发切换
                if (Math.abs(moveX) > minSwipeDistance) {
                    if (moveX > 0) {
                        // 向右滑 → 上一张
                        currentIndex = (currentIndex - 1 + imageCount) % imageCount;
                    } else {
                        // 向左滑 → 下一张
                        currentIndex = (currentIndex + 1) % imageCount;
                    }
                    updateSlider();
                }
                // 重置变量
                startX = 0;
                moveX = 0;
            });
        }

        // 初始化渲染
        renderMaterials();
    </script>
</body>

</html>
